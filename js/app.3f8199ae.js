(function(t){function e(e){for(var i,r,o=e[0],c=e[1],u=e[2],d=0,p=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==a[c]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},a={app:0},s=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("85ec"),a=n.n(i);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"uk-container uk-margin",attrs:{id:"app"}},[n("h3",{staticClass:"uk-text-left"},[n("router-link",{staticClass:"uk-link-reset uk-grid uk-grid-collapse uk-flex-middle",attrs:{to:"/list"}},[n("span",{staticClass:"cursor-pointer uk-margin-small-right",attrs:{"uk-icon":"home"}}),n("span",[t._v("Главная")])])],1),n("router-view")],1)},s=[],r={name:"App"},o=r,c=(n("034f"),n("2877")),u=Object(c["a"])(o,a,s,!1,null,null,null),l=u.exports,d=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.newContact?n("div",[n("h4",[t._v("Создание нового контакта")]),n("div",{staticClass:"uk-margin-auto uk-card uk-card-default uk-padding uk-border-rounded\n\t\t\tuk-text-left uk-width-1-1 uk-width-4-5@s uk-width-3-5@m uk-width-1-2@xl"},[n("label",{attrs:{for:"new-contact-name"}},[t._v("Название конакта")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newContact.name,expression:"newContact.name"}],staticClass:"uk-input uk-margin-small-top",attrs:{type:"text",id:"new-contact-name"},domProps:{value:t.newContact.name},on:{input:function(e){e.target.composing||t.$set(t.newContact,"name",e.target.value)}}})]),n("div",{staticClass:"uk-margin"},[n("button",{staticClass:"uk-button uk-button-small uk-button-primary",on:{click:function(e){return t.addNewContactToLS()}}},[t._v("Создать контакт")]),n("button",{staticClass:"uk-button uk-button-small uk-button-default",on:{click:function(e){t.newContact=!1}}},[t._v("Отменить")])])]):t._e(),t.contacts&&t.contacts.length?n("h3",[t._v(" Ваши контакты: "),n("span",{staticClass:"cursor-pointer",attrs:{"uk-icon":"plus-circle"},on:{click:function(e){return t.enableContactAdd()}}})]):t._e(),t.contacts&&t.contacts.length?n("div",{staticClass:"uk-grid uk-grid-small"},t._l(t.contacts,(function(e,i){return n("router-link",{key:e.id,staticClass:"uk-link-reset uk-width-1-1 uk-width-1-2@s uk-width-1-3@m uk-width-1-4@xl uk-margin-small-bottom",attrs:{to:"/list/contact/"+i}},[n("div",{staticClass:"uk-card uk-card-default uk-padding-small uk-border-rounded"},[n("div",{staticClass:"uk-grid uk-grid-collapse uk-flex-between"},[n("p",{staticClass:"uk-text-bold uk-text-left uk-text-truncate"},[t._v(t._s(e.name))]),n("span",{staticClass:"cursor-pointer text-danger",attrs:{"uk-icon":"trash"},on:{click:function(n){return n.preventDefault(),t.getConfirm(i,e.name)}}})])])])})),1):t.newContact?t._e():n("div",[n("h3",{staticClass:"cursor-pointer",on:{click:function(e){return t.enableContactAdd()}}},[t._v("У Вас нет контактов")]),n("svg",{staticStyle:{width:"124px",height:"124px"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"24",height:"24",viewBox:"0 0 24 24"}},[n("path",{attrs:{fill:"#333",d:"M15.5,12C18,12 20,14 20,16.5C20,17.38 19.75,18.21 19.31,18.9L22.39,22L21,23.39L17.88,20.32C17.19,20.75 16.37,21 15.5,21C13,21 11,19 11,16.5C11,14 13,12 15.5,12M15.5,14A2.5,2.5 0 0,0 13,16.5A2.5,2.5 0 0,0 15.5,19A2.5,2.5 0 0,0 18,16.5A2.5,2.5 0 0,0 15.5,14M10,4A4,4 0 0,1 14,8C14,8.91 13.69,9.75 13.18,10.43C12.32,10.75 11.55,11.26 10.91,11.9L10,12A4,4 0 0,1 6,8A4,4 0 0,1 10,4M2,20V18C2,15.88 5.31,14.14 9.5,14C9.18,14.78 9,15.62 9,16.5C9,17.79 9.38,19 10,20H2Z"}})]),n("h3",{staticClass:"cursor-pointer",on:{click:function(e){return t.enableContactAdd()}}},[t._v(" но вы можете их "),n("span",{staticClass:"text-success"},[t._v(" добавить")]),t._v(" "),n("span",{staticClass:"text-success",attrs:{"uk-icon":"plus-circle"}})])])])},h=[],f=(n("b0c0"),n("96cf"),n("1da1")),m=(n("a434"),"contacts"),k={methods:{confirmDelete:function(t,e){if(window&&window.UIkit){var n=this,i="Вы уверены, что хотите удалить контакт "+e+" ?";return window.UIkit.modal.confirm(i).then((function(){return n.deleteContact(t,m)}),(function(){return 0}))}this.notifyErr("Что-то пошло не так. Возможны вы не в сети. Попробуйте перезагрузить страницу")},deleteContact:function(t,e){var n=this;return Object(f["a"])(regeneratorRuntime.mark((function i(){var a,s,r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=null,i.prev=1,s=localStorage.getItem(e),s?(a=JSON.parse(s),r=t||n.$route.params.id,a.splice(r,1),o=JSON.stringify(a),localStorage.setItem(e,o)):localStorage.setItem(e,[]),n.notifyOk("Вы успешно удалили контакт"),i.abrupt("return",200);case 8:return i.prev=8,i.t0=i["catch"](1),n.notifyErr("Что-то пошло не так. Попробуйте перезагрузить страницу"),i.abrupt("return",0);case 12:case"end":return i.stop()}}),i,null,[[1,8]])})))()},notifyOk:function(t,e){t||(t="Операция успешно выполнена"),window&&window.UIkit&&window.UIkit.notification({message:t,status:"success",timeout:e||3e3,pos:"top-right"})},notifyWarn:function(t,e){t||(t="Что-то пошло не так"),window&&window.UIkit&&window.UIkit.notification({message:t,status:"warning",timeout:e||3e3,pos:"top-right"})},notifyErr:function(t,e){t||(t="Что-то пошло не так, попытайтесь обновить страницу"),window&&window.UIkit&&window.UIkit.notification({message:t,status:"danger",timeout:e||5e3,pos:"top-right"})}}},g={name:"mainPage",mixins:[k],data:function(){return{newContact:null,contacts:null,lskey:"contacts",types:[{type:"Skype",id:"1"},{type:"E-mail",id:"2"},{type:"Telephone",id:"3"},{type:"Telegram",id:"4"},{type:"Whatsapp",id:"5"}]}},methods:{getConfirm:function(t,e){var n=this;return Object(f["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,n.confirmDelete(t,e);case 2:a=i.sent,a&&n.getContacts();case 4:case"end":return i.stop()}}),i)})))()},enableContactAdd:function(){this.newContact={name:"",cnt:[]}},getContacts:function(){try{var t=localStorage.getItem(this.lskey);t&&(this.contacts=JSON.parse(t))}catch(e){console.error(e)}},addNewContactToLS:function(){if(this.newContact.name){var t=null;try{var e=localStorage.getItem(this.lskey);if(e){t=JSON.parse(e);var n={name:this.newContact.name,forms:[]};t.unshift(n);var i=JSON.stringify(t);localStorage.setItem(this.lskey,i)}else t=JSON.stringify([this.newContact]),localStorage.setItem(this.lskey,t);this.newContact=null,this.getContacts()}catch(a){console.error(a)}}else this.notifyWarn("Введите название контакта")}},mounted:function(){this.getContacts()}},v=g,C=Object(c["a"])(v,p,h,!1,null,null,null),y=C.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"uk-card uk-card-default uk-padding-small uk-border-rounded uk-width-1-1 uk-width-3-5@m uk-width-1-2@l"},[n("div",{staticClass:"uk-grid uk-grid-collapse uk-flex-between uk-text-emphasis uk-margin-small"},[n("h4",[t._v("Редактирование контакта")]),n("div",[n("span",{staticClass:"uk-margin-small-right cnt-container--revert-icon",attrs:{"uk-tooltip":"Отменить все изменения","uk-icon":"history"},on:{click:function(e){return t.unsetChanges()}}}),n("span",{staticClass:"uk-margin-small-right cnt-container--revert-icon",attrs:{"uk-tooltip":"Отменить последнее изменение","uk-icon":"reply"},on:{click:function(e){return t.getStageChange(t.step-1)}}}),n("span",{staticClass:"uk-margin-small-right cnt-container--revert-icon",attrs:{"uk-tooltip":"Повторить отмененное изменение","uk-icon":"forward"},on:{click:function(e){return t.getStageChange(t.step+1)}}}),n("span",{staticClass:"uk-margin-small-right cnt-container--delete-icon",attrs:{"uk-tooltip":"Удалить контакт","uk-icon":"trash"},on:{click:function(e){return t.getConfirm(null,t.head)}}})])]),n("div",[n("label",{attrs:{for:"new-contact-name"}},[t._v("Название конакта")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.head,expression:"head"}],staticClass:"uk-input uk-margin-small-top",attrs:{type:"text",id:"new-contact-name"},domProps:{value:t.head},on:{input:function(e){e.target.composing||(t.head=e.target.value)}}}),n("div",{staticClass:"uk-margin"},[n("div",[n("div",{staticClass:"uk-margin"},[t.savedForm?n("div",[t._v(" "),t.ccontact&&t.ccontactType?n("span",{staticClass:"text-success",attrs:{"uk-icon":"plus-circle"},on:{click:function(e){return t.addTypeConn()}}},[t._v("Сохранить")]):t._e(),t._v(" "),n("span",{staticClass:"text-success",attrs:{"uk-icon":"plus-circle"},on:{click:function(e){return t.cancelEdit()}}},[t._v("Отменить")])]):t.ccontact&&t.ccontactType?n("div",[n("button",{staticClass:"uk-button uk-button-default uk-button-primary uk-border-pill",on:{click:function(e){return t.addTypeConn()}}},[t._v(" Добавить ")])]):t._e(),n("div",{staticClass:"uk-inline uk-width-1-1 uk-margin-small-top"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.ccontactType,expression:"ccontactType"}],staticClass:"uk-input",attrs:{type:"text",id:"new-contact--type"},on:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.addNewCnt(e):null},change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.ccontactType=e.target.multiple?n:n[0]}}},t._l(t.types,(function(e){return n("option",{key:e.text,domProps:{value:e}},[t._v(t._s(e.type))])})),0)]),n("div",{staticClass:"uk-inline uk-width-1-1 uk-margin-small-top"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.ccontact,expression:"ccontact"}],staticClass:"uk-input",attrs:{type:"text",id:"new-contact--text"},domProps:{value:t.ccontact},on:{keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.addNewCnt(e):null},input:function(e){e.target.composing||(t.ccontact=e.target.value)}}})])])]),n("ul",{staticClass:"uk-list uk-list-bullet"},t._l(t.forms,(function(e,i){return n("li",{key:"newCnt-"+i,staticClass:"uk-text-left uk-text-truncate"},[t._v(t._s(e.name))])})),0)]),t._l(t.forms,(function(e,i){return n("div",{key:e.type.type+" : "+e.text,staticClass:"uk-margin uk-grid uk-grid-collapse uk-flex-middle uk-flex-between uk-card uk-card-default"},[n("div",{staticClass:"uk-margin uk-text-left uk-margin-small-left"},[n("div",{staticClass:"uk-inline uk-width-1-1 uk-margin-small-top uk-text-lead"},[t._v(" "+t._s(e.type.type)+": ")]),n("div",{staticClass:"uk-inline uk-width-1-1 uk-margin-small-top"},[t._v(" "+t._s(e.text)+" ")])]),n("div",{staticClass:"uk-grid uk-grid-small uk-margin-small-right"},[n("div",{on:{click:function(e){return t.editFormOfConn(i)}}},[t._m(0,!0)]),n("div",{on:{click:function(e){return t.delFormOfConn(i)}}},[t._m(1,!0)])])])}))],2),n("button",{staticClass:"uk-button uk-button-small uk-button-primary",on:{click:function(e){return t.saveToLS()}}},[t._v("Сохранить")]),n("button",{staticClass:"uk-button uk-button-small uk-button-default",on:{click:function(e){return t.confirmCancelEditing()}}},[t._v("Отменить")])])},b=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"uk-button uk-button-small uk-button-primary uk-border-pill"},[n("span",{attrs:{"uk-icon":"pencil"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"uk-button uk-button-small uk-button-danger uk-border-pill"},[n("span",{attrs:{"uk-icon":"trash"}})])}],S=n("53ca"),x={name:"note",mixins:[k],data:function(){return{head:"",forms:[],lskey:"contacts",ccontact:"",ccontactType:"",savedContact:null,stageChange:null,step:0,editInd:null,savedForm:null,types:[{type:"Skype",id:"1"},{type:"E-mail",id:"2"},{type:"Telephone",id:"3"},{type:"Telegram",id:"4"},{type:"Whatsapp",id:"5"}]}},methods:{editFormOfConn:function(t){this.setStageChange();var e=this.forms[t];this.forms.splice(t,1),this.savedForm=JSON.parse(JSON.stringify(e)),this.editInd=t,this.ccontact=e.text,this.ccontactType=e.type},delFormOfConn:function(t){this.setStageChange(),this.forms.splice(t,1)},addTypeConn:function(){var t={text:this.ccontact,type:this.ccontactType};0===this.editInd?this.forms.unshift(t):this.editInd?this.forms.splice(this.editInd,0,t):(this.setStageChange(),this.forms.push(t)),this.ccontactType=this.ccontact="",this.savedForm&&this.rmEditingMode()},cancelEdit:function(){this.formsOfConn.splice(this.editInd,0,this.savedForm),this.rmEditingMode()},rmEditingMode:function(){this.ccontactType=this.ccontact="",this.savedForm=this.editInd=null},confirmCancelEditing:function(){if(window&&window.UIkit){var t=this,e="Вы уверены, что хотите отменить редактирование и перейти на главную?";window.UIkit.modal.confirm(e).then((function(){t.$router.push("/list/")}),(function(){return 0}))}else this.notifyErr("Что-то пошло не так. Возможны вы не в сети. Попробуйте перезагрузить страницу")},getConfirm:function(t,e){var n=this;return Object(f["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,n.confirmDelete(t,e);case 2:a=i.sent,a&&n.$router.push("/list/");case 4:case"end":return i.stop()}}),i)})))()},setStageChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.step;this.stageChange||(this.stageChange=[]),this.stageChange[t]=JSON.parse(JSON.stringify({name:this.head,cnt:this.forms})),this.step++},getStageChange:function(t){(t||0===t)&&this.stageChange&&this.stageChange[t]&&(t<this.step?(this.stageChange[this.step]=JSON.parse(JSON.stringify({name:this.head,cnt:this.forms})),this.head=JSON.parse(JSON.stringify(this.stageChange[t].name)),this.forms=JSON.parse(JSON.stringify(this.stageChange[t].cnt)),this.step=t):(this.head=JSON.parse(JSON.stringify(this.stageChange[t].name)),this.forms=JSON.parse(JSON.stringify(this.stageChange[t].cnt)),this.step=t))},unsetChanges:function(){if(window&&window.UIkit){var t=this,e="Вы уверены, что хотите отменить все изменения?";window.UIkit.modal.confirm(e).then((function(){t.setStageChange(),t.head=JSON.parse(JSON.stringify(t.savedContact.name)),t.forms=JSON.parse(JSON.stringify(t.savedContact.forms)),t.saveToLS()}),(function(){}))}},saveToLS:function(){if(this.forms.length)if(this.head){var t=null;try{var e=localStorage.getItem(this.lskey);if(e){t=JSON.parse(e);var n={name:this.head,forms:this.forms};t.splice(+this.$route.params.id,1,n);var i=JSON.stringify(t);localStorage.setItem(this.lskey,i)}else t=JSON.stringify([this.newContact]),localStorage.setItem(this.lskey,t);this.ccontactType=this.ccontact="",this.notifyOk()}catch(a){console.error(a)}}else this.notifyWarn("Введите название контакта");else this.notifyWarn("Добавьте хотя бы один пункт в список")},addNewCnt:function(){this.ccontact?(this.setStageChange(),this.forms.unshift({name:this.ccontact,done:!1}),this.ccontact=""):this.notifyWarn("Опишите задачу")},getCcontact:function(){if(this.$route&&this.$route.params&&Object(S["a"])("number"===+this.$route.params.id)){var t=this.$route.params.id;try{var e=localStorage.getItem(this.lskey);if(e){var n=JSON.parse(e);n[t]&&(this.savedContact=JSON.parse(JSON.stringify(n[t])),this.head=n[t].name,this.forms=n[t].forms||[])}}catch(i){console.error(i)}}else this.head="Неверный номер контакта"}},mounted:function(){this.getCcontact()}},O=x,_=Object(c["a"])(O,w,b,!1,null,null,null),N=_.exports;i["a"].use(d["a"]);var J=[{path:"/list/",name:"mainPage",component:y},{path:"/list/contact/:id",name:"contact",component:N}],I=new d["a"]({mode:"history",base:"/",routes:J}),T=I;i["a"].config.productionTip=!1,new i["a"]({router:T,render:function(t){return t(l)}}).$mount("#app")},"85ec":function(t,e,n){}});
//# sourceMappingURL=app.3f8199ae.js.map